{"version":3,"sources":["services/phones.js","Components/Notification.js","Components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPersons","post","id","delete","changedPerson","put","Notification","message","isError","selectedStyle","border","color","style","className","Title","title","Person","name","number","handleDelete","onClick","Persons","persons","map","person","key","Filter","props","onChange","handleFindChange","value","search","PersonForm","nameChange","numberChange","formSubmit","newPerson","onSubmit","type","App","useState","setPersons","setNewPerson","setSearch","notification","setNotification","createNotification","timeout","setTimeout","clearFields","useEffect","phoneService","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","found","find","window","confirm","updatedPerson","catch","phoneRetrieved","concat","error","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff4bcd53.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n   return axios.get(baseUrl)\n   .then(response => response.data);\n}\n\nconst create = newPersons => {\n   const request = axios.post(baseUrl, newPersons);\n   return request.then(response => response.data);\n}\n\nconst remove = id => {\n   return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, changedPerson) => {\n   const request = axios.put(`${baseUrl}/${id}`, changedPerson);\n   return request.then(response => response.data);\n}\n\nexport default { getAll, create, remove, update }","import React from 'react';\nimport './Notification.css';\n\nconst Notification = ({message, isError}) => {\n   if(message === null) {\n      return null;\n   }\n   const errorStyle = { border: '1px solid red', color: 'red' }\n   const sucessStyle = { border: '1px solid green', color: 'green' }\n   const selectedStyle = isError ? errorStyle : sucessStyle;\n\n   return (\n      <div style={selectedStyle} className=\"message\">\n         {message}\n      </div>\n   )\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react'\nimport phoneService from '../services/phones';\nimport Notification from './Notification';\n\nconst Title = ({ title }) =>\n   <h2>{title}</h2>\n\nconst Person = ({ name, number, handleDelete }) =>\n   <div>\n      {name} {number}\n      <button onClick={handleDelete}>delete</button>\n   </div>\n\nconst Persons = ({ persons, handleDelete }) =>\n   persons.map(person =>\n      <Person\n         key={person.name}\n         name={person.name}\n         number={person.number}\n         handleDelete={() => handleDelete(person)}\n      />\n   )\n\nconst Filter = (props) =>\n   <div>\n      Filter shown with\n      <input\n         onChange={props.handleFindChange}\n         value={props.search} />\n   </div>\n\nconst PersonForm = (props) => {\n   const { nameChange, numberChange, formSubmit, newPerson } = props;\n   return (\n      <form onSubmit={formSubmit}>\n         <div>\n            Name: <input onChange={nameChange} value={newPerson.name} />\n         </div>\n         <div>\n            Number: <input onChange={numberChange} value={newPerson.number} />\n         </div>\n         <div>\n            <button type=\"submit\">Add</button>\n         </div>\n      </form>\n   );\n}\n\nconst App = () => {\n   const [persons, setPersons] = useState([]);\n   const [newPerson, setNewPerson] = useState({ name: '', number: '' });\n   const [search, setSearch] = useState('');\n   const [notification, setNotification] = useState({message: null, isError: null});\n\n   const createNotification = (message, timeout, isError) => {\n      setNotification({message, isError});\n      setTimeout(() => {\n         setNotification({message: null, isError: null});\n      }, timeout);\n   }\n\n   const clearFields = () => {\n      setNewPerson({\n         name: '',\n         number: ''\n      });\n   }\n\n   const getData = () => {\n      phoneService\n         .getAll()\n         .then(persons => {\n            setPersons(persons);\n         });\n   }\n   useEffect(getData, []);\n\n   const addPerson = () => {\n      phoneService\n         .create(newPerson)\n         .then(phoneRetrieved => {\n            setPersons(persons.concat(phoneRetrieved));\n            clearFields();\n            createNotification(`Added ${phoneRetrieved.name} to your phonebook`, 3000, false);\n         })\n         .catch(error => {\n            createNotification(error.response.data.error, 5000, true);\n         })\n   }\n\n   const deletePerson = (person) => {\n      if (window.confirm(`${person.name} will be deleted. Proceed?`)) {\n         phoneService.remove(person.id);\n         setPersons(persons.filter(p => p.id !== person.id))\n      }\n   }\n\n   const handleFindChange = (event) =>\n      setSearch(event.target.value);\n\n   const handleNameChange = (event) =>\n      setNewPerson({ ...newPerson, name: event.target.value });\n\n   const handleNumberChange = (event) =>\n      setNewPerson({ ...newPerson, number: event.target.value });\n\n   const handleFormSubmit = (event) => {\n      event.preventDefault();\n      let found = persons.find(person => person.name === newPerson.name);\n      if(found) {\n         let response = window\n         .confirm(`${found.name} is already added to phonebook, replace the old number with a new one?`);\n         if(response) {\n            const changedPerson = {\n               name: found.name,\n               number: newPerson.number\n            }\n            phoneService.update(found.id, changedPerson)\n            .then(updatedPerson => {\n               setPersons(persons\n                  .map(person => person.id !== updatedPerson.id \n                     ? person : updatedPerson))\n               clearFields();\n               createNotification(`Number of ${updatedPerson.name} changed sucessfully`, 3000, false);\n            }).catch(() => {\n               createNotification(`${found.name} has already been removed from the server`, 3000, true);\n               setPersons(persons.filter(person => person.id !== found.id));\n               clearFields();\n            });\n         }\n      } else {\n         addPerson();\n      }\n   }\n\n   const personsToShow = search === '' ? persons :\n      persons.filter(person =>\n         person.name.toLowerCase()\n            .includes(search.toLowerCase()));\n\n   return (\n      <div>\n         <Title title='Phonebook' />\n         <Notification message={notification.message} \n            isError={notification.isError} />\n         <Filter handleFindChange={handleFindChange}\n            search={search} />\n         <Title title='Add a new' />\n         <PersonForm nameChange={handleNameChange}\n            numberChange={handleNumberChange}\n            formSubmit={handleFormSubmit}\n            newPerson={newPerson} />\n         <Title title=\"Numbers\" />\n         <Persons persons={personsToShow}\n            handleDelete={deletePerson} />\n      </div>\n   )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}